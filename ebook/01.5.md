# 1.5 符号";"的使用

## 符号";"

在常规高级语言中, 通常符号";"表示一条语句的结束。Go语言中, 符号";"的作用也相同, 但是使用上有自己的一套规则。
也因为该规则的存在，让Go编码变得更加统一规范和简洁。

### 符号";"的忽略规则

> Go语言中,符号";"具有如下规则：
>
> 在代码换行符之前,碰到
> - 类型标识符(如int, float, string等), 
> - 数字或者字符串常量
> - 特殊token标识符
>
>	break continue fallthrough return ++ -- ) }
>
> 词法分析器会自动在标识符后插入符号";", 作为语句的结束。

因为该规则，大大简化的Go语言的编码。

当行语句的编码通常符号";"忽略不写,可以大大减少每行结束输入";"的麻烦。

而这个工作交由词法分析器进行自动添加，所有符号";"作为一条语句的结束,是否需要输入。完全由编码人员自己决定。

同时在规则中所说的标识符、常量、特殊的token标识符均可以忽略符号";"的输入, 所以以下代码是正确的:

	go func() { for { dst <- <-src } }()

### 必须使用符号";"的场景

虽然符号";"作为语句的结束符在单行语句结尾可以省略，但在以下场景中就必须使用。如：

- 作为多条语句单行的分隔符使用

- 作为for循环语句使用

- 作为if, switch等语句 初始化语句 与 条件语句的分隔符使用

### 忽略规则的副作用(side effect)

在控制结构(if, for, switch, select)中,符号"{"不可另起一行输入。如:

	if condition {
		//! code
	}

符号"{",必须写在condition后，不能另起一行。如下

	if condition
	{

	}

这种写法的话，以上语句在经过词法分析器后，变成了

	if condition;
	{

	};

很明显这成了两句话,第一句中的 condition 变成了 if 语句的控制体，编译器因找不到条件报错("missing condition in if statement")。

虽然编写更加严格了，但是代码整体更加规范统一的。

## links
  * [目录](<preface.md>)
  * 上一节: [符号"{}"的使用](<01.4.md>)
  * 下一节: [符号"_"的使用](<01.6.md>)
